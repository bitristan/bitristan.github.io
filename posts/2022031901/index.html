<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>RecyclerView嵌套RecyclerView自动滚动的问题</title>
<link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=/favicon.png rel=icon><meta name=description content><meta name=keywords content><meta name=author content="bitristan"><meta name=generator content="Hugo 0.124.1"></head><body><header role=banner><hgroup><h1><a href=/>Ting's Blog</a></h1><h2>人生最可悲的事情莫过于胸怀大志却又虚度光阴</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=/>» Home</option></select></fieldset><ul class=main-navigation><li><a href=/ title=Home>Home</a></li></ul><ul class=subscription></ul></nav><div id=main><div id=content><div><article class=hentry role=article><header><p class=meta>Mar 19, 2022
- 6 minute read</p><h1 class=entry-title>RecyclerView嵌套RecyclerView自动滚动的问题</h1></header><div class=entry-content><h1 id=问题描述>问题描述</h1><p>最近发现一个比较有意思的问题，在RecyclerView的item布局中存在RecyclerView的时候，界面会在没有操作的时候自动滚动。</p><p><img src=/images/20220319/1.webp alt></p><p>如上图所示，刚打开页面的时候是图1的布局，进入后延迟3s模拟一个 android.R.id.content View的requestFocus请求，界面会自动向上滚动一段距离，变成图2的样子，图3是列表继续往上滚动的布局。</p><p>在实际项目中，一般不会是自己主动requestFocus触发的这种问题，像Popup窗口dismiss等很多操作都会自动触发DecorView的requestFocus。所以会有一些情况，明明没有做任何操作，但是app的界面竟然无故发生了跳动！</p><h1 id=问题分析>问题分析</h1><h2 id=布局>布局</h2><p>我们的Activity布局是这样的，其中就只包含一个RecyclerView</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class=na>xmlns:android=</span><span class=s>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>xmlns:app=</span><span class=s>&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>xmlns:tools=</span><span class=s>&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_height=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>tools:context=</span><span class=s>&#34;.MainActivity&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;androidx.recyclerview.widget.RecyclerView</span>
</span></span><span class=line><span class=cl>    <span class=na>android:id=</span><span class=s>&#34;@android:id/list&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;0dp&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;0dp&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintTop_toTopOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintBottom_toBottomOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintStart_toStartOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintEnd_toEndOf=</span><span class=s>&#34;parent&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>RecyclerView的item的布局如下，item中包含一个subList布局，这个subList只在第3个item中为VISIBLE。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class=na>xmlns:android=</span><span class=s>&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_width=</span><span class=s>&#34;match_parent&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_height=</span><span class=s>&#34;220dp&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>xmlns:app=</span><span class=s>&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:layout_marginTop=</span><span class=s>&#34;20dp&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>android:background=</span><span class=s>&#34;#40ff0000&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;TextView</span>
</span></span><span class=line><span class=cl>    <span class=na>android:id=</span><span class=s>&#34;@+id/label&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:textSize=</span><span class=s>&#34;30sp&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintTop_toTopOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintBottom_toBottomOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintStart_toStartOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintEnd_toEndOf=</span><span class=s>&#34;parent&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;androidx.recyclerview.widget.RecyclerView</span>
</span></span><span class=line><span class=cl>    <span class=na>android:id=</span><span class=s>&#34;@+id/subList&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_width=</span><span class=s>&#34;200dp&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:layout_height=</span><span class=s>&#34;wrap_content&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:background=</span><span class=s>&#34;#4000ff00&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>android:visibility=</span><span class=s>&#34;gone&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintTop_toTopOf=</span><span class=s>&#34;parent&#34;</span>
</span></span><span class=line><span class=cl>    <span class=na>app:layout_constraintStart_toStartOf=</span><span class=s>&#34;parent&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=分析>分析</h2><p>我们跟着流程一层层往下分析</p><p>Activity的跟布局执行requestFocus的时候，执行的是ViewGroup的requestFocus</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>requestFocus</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>Rect</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kt>int</span><span class=w> </span><span class=n>descendantFocusability</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getDescendantFocusability</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kt>boolean</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=n>descendantFocusability</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=n>FOCUS_BLOCK_DESCENDANTS</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kd>super</span><span class=p>.</span><span class=na>requestFocus</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=n>FOCUS_BEFORE_DESCENDANTS</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=kd>final</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>took</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kd>super</span><span class=p>.</span><span class=na>requestFocus</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>took</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>took</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>onRequestFocusInDescendants</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>previouslyFocusedRect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=n>FOCUS_AFTER_DESCENDANTS</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=kd>final</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>took</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>onRequestFocusInDescendants</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>took</span><span class=w> </span><span class=o>?</span><span class=w> </span><span class=n>took</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=kd>super</span><span class=p>.</span><span class=na>requestFocus</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>default</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>IllegalStateException</span><span class=p>(</span><span class=s>&#34;descendant focusability must be &#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=o>+</span><span class=w> </span><span class=s>&#34;one of FOCUS_BEFORE_DESCENDANTS, FOCUS_AFTER_DESCENDANTS, FOCUS_BLOCK_DESCENDANTS &#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=o>+</span><span class=w> </span><span class=s>&#34;but is &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>descendantFocusability</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=n>result</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>在这里会根据descendantFocusability属性决定先走View自身的requestFocus，还是先分发focus给子View们，我们Activity的根布局是ConstraintLayout，默认是不获取focus的，所以无论怎样都会分发给子View，调用onRequestFocusInDescendants，遍历执行子View的requestFocus。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>protected</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>onRequestFocusInDescendants</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>Rect</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>final</span><span class=w> </span><span class=n>View</span><span class=o>[]</span><span class=w> </span><span class=n>children</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>mChildren</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>index</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>end</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>increment</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>View</span><span class=w> </span><span class=n>child</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>children</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>((</span><span class=n>child</span><span class=p>.</span><span class=na>mViewFlags</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>VISIBILITY_MASK</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>VISIBLE</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>child</span><span class=p>.</span><span class=na>requestFocus</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>如果子View是ViewGroup，那么会重复上述的流程，如果是View，没有子View，那么就会执行View本身的requestFocus</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>private</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>requestFocusNoSearch</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>Rect</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>canTakeFocus</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>isInTouchMode</span><span class=p>()</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>(</span><span class=n>FOCUSABLE_IN_TOUCH_MODE</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=p>(</span><span class=n>mViewFlags</span><span class=w> </span><span class=o>&amp;</span><span class=w> </span><span class=n>FOCUSABLE_IN_TOUCH_MODE</span><span class=p>)))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>hasAncestorThatBlocksDescendantFocus</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>isLayoutValid</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>mPrivateFlags</span><span class=w> </span><span class=o>|=</span><span class=w> </span><span class=n>PFLAG_WANTS_FOCUS</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>clearParentsWantFocus</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>handleFocusGainInternal</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>按照上述流程，我们发现最终是 subList 这个 RecyclerView 最终获取到了焦点，为什么呢？</p><p>我们知道View默认情况下focusableInTouchMode为false，所以当View执行requestFocus的时候，默认会返回false，但是RecyclerView强制设置了自己的focusableInTouchMode为true，在RecyclerView的构造函数中</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=nf>RecyclerView</span><span class=p>(</span><span class=nd>@NonNull</span><span class=w> </span><span class=n>Context</span><span class=w> </span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=nd>@Nullable</span><span class=w> </span><span class=n>AttributeSet</span><span class=w> </span><span class=n>attrs</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>defStyleAttr</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>super</span><span class=p>(</span><span class=n>context</span><span class=p>,</span><span class=w> </span><span class=n>attrs</span><span class=p>,</span><span class=w> </span><span class=n>defStyleAttr</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>setScrollContainer</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>setFocusableInTouchMode</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// .......</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>那么为什么subList获取焦点后，会导致外层的RecyclerView自动滚动呢？那我们要看下requestFocus方法中的handleFocusGainInternal 这个方法到底做了些什么</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kt>void</span><span class=w> </span><span class=nf>handleFocusGainInternal</span><span class=p>(</span><span class=nd>@FocusRealDirection</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>direction</span><span class=p>,</span><span class=w> </span><span class=n>Rect</span><span class=w> </span><span class=n>previouslyFocusedRect</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ....</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>mParent</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>mParent</span><span class=p>.</span><span class=na>requestChildFocus</span><span class=p>(</span><span class=k>this</span><span class=p>,</span><span class=w> </span><span class=k>this</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>updateFocusedInCluster</span><span class=p>(</span><span class=n>oldFocus</span><span class=p>,</span><span class=w> </span><span class=n>direction</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// ....</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>当View获取到焦点后，会向上调用父View的requestChildFocus方法，第一个参数为View自身，第二个参数为当前获取到focus的View。</p><p>默认情况下，ViewGroup又会将requestChildFocus继续向上层的View传递，除非View本身的descendantFocusability设置为FOCUS_BLOCK_DESCENDANTS</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>requestChildFocus</span><span class=p>(</span><span class=n>View</span><span class=w> </span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=n>View</span><span class=w> </span><span class=n>focused</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>getDescendantFocusability</span><span class=p>()</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>FOCUS_BLOCK_DESCENDANTS</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>mParent</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>mParent</span><span class=p>.</span><span class=na>requestChildFocus</span><span class=p>(</span><span class=k>this</span><span class=p>,</span><span class=w> </span><span class=n>focused</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// ...</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>我们发现RecyclerView重写了requestChildFocus</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Override</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>requestChildFocus</span><span class=p>(</span><span class=n>View</span><span class=w> </span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=n>View</span><span class=w> </span><span class=n>focused</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>mLayout</span><span class=p>.</span><span class=na>onRequestChildFocus</span><span class=p>(</span><span class=k>this</span><span class=p>,</span><span class=w> </span><span class=n>mState</span><span class=p>,</span><span class=w> </span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=n>focused</span><span class=p>)</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>focused</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>requestChildOnScreen</span><span class=p>(</span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=n>focused</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>super</span><span class=p>.</span><span class=na>requestChildFocus</span><span class=p>(</span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=n>focused</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>最终会调用到RecyclerView的LayoutManager的requestChildRectangleOnScreen方法</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>public</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=nf>requestChildRectangleOnScreen</span><span class=p>(</span><span class=nd>@NonNull</span><span class=w> </span><span class=n>RecyclerView</span><span class=w> </span><span class=n>parent</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                             </span><span class=nd>@NonNull</span><span class=w> </span><span class=n>View</span><span class=w> </span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=nd>@NonNull</span><span class=w> </span><span class=n>Rect</span><span class=w> </span><span class=n>rect</span><span class=p>,</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>immediate</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                                             </span><span class=kt>boolean</span><span class=w> </span><span class=n>focusedChildVisible</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>scrollAmount</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getChildRectangleOnScreenScrollAmount</span><span class=p>(</span><span class=n>child</span><span class=p>,</span><span class=w> </span><span class=n>rect</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kt>int</span><span class=w> </span><span class=n>dx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>scrollAmount</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kt>int</span><span class=w> </span><span class=n>dy</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>scrollAmount</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>focusedChildVisible</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>isFocusedChildVisibleAfterScrolling</span><span class=p>(</span><span class=n>parent</span><span class=p>,</span><span class=w> </span><span class=n>dx</span><span class=p>,</span><span class=w> </span><span class=n>dy</span><span class=p>))</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>dx</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>dy</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>immediate</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>parent</span><span class=p>.</span><span class=na>scrollBy</span><span class=p>(</span><span class=n>dx</span><span class=p>,</span><span class=w> </span><span class=n>dy</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>parent</span><span class=p>.</span><span class=na>smoothScrollBy</span><span class=p>(</span><span class=n>dx</span><span class=p>,</span><span class=w> </span><span class=n>dy</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>看到没，在这里调用到了RecyclerView的scrollBy或者smoothScrollBy方法，造成了列表自动滚动！</p><p>RecyclerView重写requestChildFocus的逻辑看着很复杂，其实就做了一件事，让列表滚动到合适的位置，比便保证focus的View能完全显示出来。</p><h1 id=解决方案>解决方案</h1><p>知道了问题发生的原因，那么解决方案其实有很多种</p><h2 id=方案一>方案一</h2><p>重写LayoutManager的requestChildRectangleOnScreen方法，直接返回false即可，当然这样我们就禁用了RecyclerView提供的这项默认能力（让focus view可见）。其实一般场景也用不到，反而会对我们造成一些困扰，所以禁用掉也没啥问题，我们要的就是这种预期效果。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>recyclerView</span><span class=p>.</span><span class=na>layoutManager</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>object</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>LinearLayoutManager</span><span class=p>(</span><span class=k>this</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=n>override</span><span class=w> </span><span class=n>fun</span><span class=w> </span><span class=nf>requestChildRectangleOnScreen</span><span class=p>(</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>parent</span><span class=p>:</span><span class=w> </span><span class=n>RecyclerView</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>child</span><span class=p>:</span><span class=w> </span><span class=n>View</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>rect</span><span class=p>:</span><span class=w> </span><span class=n>Rect</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>immediate</span><span class=p>:</span><span class=w> </span><span class=n>Boolean</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>focusedChildVisible</span><span class=p>:</span><span class=w> </span><span class=n>Boolean</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>):</span><span class=w> </span><span class=n>Boolean</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=kc>false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><h2 id=方案二>方案二</h2><p>给item中的RecyclerView的父布局设置拦截focus事件，这样focus就无法传递到下面的RecyclerView了，也能解决问题，这个设置只要在subList这个RecyclerView的祖先View上，就都可以有效拦截。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>android:descendantFocusability=&#34;blocksDescendants&#34;
</span></span></code></pre></td></tr></table></div></div><h2 id=方案三>方案三</h2><p>设置item中的RecyclerView的focusableInTouchMode为faslse，当然上面我们分析过，RecyclerView在构造函数中强制设置了 setFocusableInTouchMode(true)，所以我们在xml中设置是没有用的，但是我们可以通过代码设置，这样也是可行的。</p><h1 id=结论>结论</h1><p>不仅是RecyclerView，类似的ScrollView等控件都会有类似的问题，所以大家以后碰到这种自动滚动的问题，可以先考虑看看是不是requestFocus导致的。</p><h1 id=测试demo地址>测试Demo地址</h1><p><a href=https://gitlab.com/sunting/recycler-view-focus-debug target=_blank rel=noopener>https://gitlab.com/sunting/recycler-view-focus-debug</a></p></div><footer><p class=meta><span class="byline author vcard">Posted by <span class=fn>bitristan</span></span>
<time>Mar 19, 2022</time></span></p><p class=meta><a class="basic-alignment left" href=/posts/2021052101/ title="OpenGL ES 3.x 实战系列 相机实时滤镜">OpenGL ES 3.x 实战系列 相机实时滤镜</a>
<a class="basic-alignment right" href=/posts/2022032601/ title=安卓使用prefab特性在AAR中导出和导入原生so依赖>安卓使用prefab特性在AAR中导出和导入原生so依赖</a></p></footer></article></div><aside class="sidebar thirds"><section class="first odd"><h1>About me</h1><p>A software engineer.</p></section><ul class=sidebar-nav><li class=sidebar-nav-item><a target=_blank rel="noopener noreferrer" href=https://github.com/bitristan title=https://github.com/bitristan><i class="fa fa-github fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://gitlab.com/bitristan title=https://gitlab.com/bitristan><i class="fa fa-gitlab fa-3x"></i></a>
<a target=_blank rel="noopener noreferrer" href=https://stackoverflow.com/users/1099477/bitristan title=https://stackoverflow.com/users/1099477/bitristan><i class="fa fa-stack-overflow fa-3x"></i></a></li></ul></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2024 bitristan - <a href=/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer></body></html>